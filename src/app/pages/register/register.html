<div
  class="min-h-screen bg-gradient-to-b from-slate-100 to-white flex items-center justify-center px-4 md:px-6 py-10"
>
  <div class="bg-white rounded-2xl shadow-xl p-6 md:p-10 w-full max-w-md">
    <div class="text-center mb-8">
      <div
        class="w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4"
      >
        <i class="fa-solid fa-user-plus text-slate-600 text-2xl"></i>
      </div>
      <h1 class="text-2xl font-bold text-slate-900">Create account</h1>
      <p class="text-slate-500 text-sm mt-1">Join us today</p>
    </div>

    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
      <div class="mb-4">
        <label class="block text-sm font-medium text-slate-700 mb-2">Email</label>
        <input
          type="email"
          formControlName="email"
          class="w-full border rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-slate-900 focus:border-transparent transition-all"
          [class.border-red-500]="email?.invalid && (email?.touched || submitted)"
          [class.border-slate-200]="!(email?.invalid && (email?.touched || submitted))"
          placeholder="you@example.com"
        />
        @if (email?.invalid && (email?.touched || submitted)) {
          <div class="text-red-500 text-xs mt-1">
            @if (email?.errors?.['required']) {
              <p>Email is required</p>
            }
            @if (email?.errors?.['email']) {
              <p>Please enter a valid email address</p>
            }
          </div>
        }
      </div>

      <div class="mb-4">
        <label class="block text-sm font-medium text-slate-700 mb-2">Full Name</label>
        <input
          type="text"
          formControlName="name"
          class="w-full border rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-slate-900 focus:border-transparent transition-all"
          [class.border-red-500]="name?.invalid && (name?.touched || submitted)"
          [class.border-slate-200]="!(name?.invalid && (name?.touched || submitted))"
          placeholder="user name"
        />
        @if (name?.invalid && (name?.touched || submitted)) {
          <div class="text-red-500 text-xs mt-1">
            @if (name?.errors?.['required']) {
              <p>Name is required</p>
            }
          </div>
        }
      </div>

      <div class="mb-4">
        <label class="block text-sm font-medium text-slate-700 mb-2">Username</label>
        <input
          type="text"
          formControlName="username"
          class="w-full border rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-slate-900 focus:border-transparent transition-all"
          [class.border-red-500]="username?.invalid && (username?.touched || submitted)"
          [class.border-slate-200]="!(username?.invalid && (username?.touched || submitted))"
          placeholder="user name"
        />
        @if (username?.invalid && (username?.touched || submitted)) {
          <div class="text-red-500 text-xs mt-1">
            @if (username?.errors?.['required']) {
              <p>Username is required</p>
            }
            @if (username?.errors?.['noSpaces']) {
              <p>Username cannot contain spaces</p>
            }
          </div>
        }
      </div>

      <div class="mb-4">
        <label class="block text-sm font-medium text-slate-700 mb-2">Password</label>
        <input
          type="password"
          formControlName="password"
          class="w-full border rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-slate-900 focus:border-transparent transition-all"
          [class.border-red-500]="password?.invalid && (password?.touched || submitted)"
          [class.border-slate-200]="!(password?.invalid && (password?.touched || submitted))"
        />
        @if (password?.invalid && (password?.touched || submitted)) {
          <div class="text-red-500 text-xs mt-1">
            @if (password?.errors?.['required']) {
              <p>Password is required</p>
            }
            @if (password?.errors?.['pattern']) {
              <p>
                Password must be at least 8 characters with uppercase, lowercase, digit, and special
                character (*&#64;%$#!&)
              </p>
            }
          </div>
        }
      </div>

      <div class="mb-6">
        <label class="block text-sm font-medium text-slate-700 mb-2">Confirm Password</label>
        <input
          type="password"
          formControlName="confirmPassword"
          class="w-full border rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-slate-900 focus:border-transparent transition-all"
          [class.border-red-500]="
            (confirmPassword?.invalid || registerForm.errors?.['passwordMismatch']) &&
            (confirmPassword?.touched || submitted)
          "
          [class.border-slate-200]="
            !(
              (confirmPassword?.invalid || registerForm.errors?.['passwordMismatch']) &&
              (confirmPassword?.touched || submitted)
            )
          "/>
        @if (confirmPassword?.touched || submitted) {
          <div class="text-red-500 text-xs mt-1">
            @if (confirmPassword?.errors?.['required']) {
              <p>Please confirm your password</p>
            }
            @if (registerForm.errors?.['passwordMismatch']) {
              <p>Passwords do not match</p>
            }
          </div>
        }
      </div>   

      <button
        type="submit"
        class="w-full bg-slate-900 text-white py-3 rounded-xl text-sm font-bold hover:bg-slate-700 transition-colors"
      >
        Create account
      </button>
    </form>

    <p class="text-center text-sm text-slate-500 mt-6">
      Already have an account?
      <a routerLink="/login" class="text-slate-900 font-semibold hover:underline">Sign in</a>
    </p>
  </div>
</div>
